Original data found here:

http://www.nb.no/sprakbanken/show?serial=sbr-23&lang=nb

Downloaded file:
http://www.nb.no/sbfil/leksikalske_databaser/leksikon/no.leksikon.tar.gz

tar xzvf ~/Downloads/no.leksikon.tar.gz
NSTs norske leksikon/
NSTs norske leksikon/nor030224NST.pron/
NSTs norske leksikon/nor030224NST.pron/nor030224NST.pron_inspect.OUT
NSTs norske leksikon/nor030224NST.pron/inspect_lex.pl
NSTs norske leksikon/nor030224NST.pron/nor030224NST.pron

cp NSTs\ norske\ leksikon/nor030224NST.pron/nor030224NST.pron .

iconv -f iso-8859-1 -t utf-8 nor030224NST.pron > nor030224NST_utf8.pron


######################################################


Build two different lexica for lts and for lexicon, because a number of words are foreign or otherwise odd and should not be used in training lts.

cat nor030224NST_utf8.pron | perl convertNST2MaryTts.pl lts > nor_nst_lts.txt
cat nor030224NST_utf8.pron | perl convertNST2MaryTts.pl > nor_nst.txt

wc nor030224NST_utf8.pron nor_nst.txt nor_nst_lts.txt 
   784240    784241 171453160 nor030224NST_utf8.pron
   635343   1270947  18481926 nor_nst.txt
   633494   1267213  18472880 nor_nst_lts.txt


########################################################


Build lts
sh ~/git/marytts/hb/marytts-lts-lexicon_builder allophones.no.xml ./nor_nst_lts.txt
Use the resulting lts file: nor_nst_lts.lts

Build lexicon and pos
sh ~/git/marytts/hb/marytts-lts-lexicon_builder allophones.no.xml ./nor_nst.txt

This fails for me with the error
java.io.IOException: Cannot write transducer: too many arc-labels to be encoded in binary fst format (would need 12 bits, have 11)
	at marytts.fst.TransducerTrie.writeFST(TransducerTrie.java:90)
	at marytts.tools.transcription.TranscriptionTableModel.createLexicon(TranscriptionTableModel.java:497)
	at marytts.tools.transcription.LTSLexiconPOSBuilder.saveTranscription(LTSLexiconPOSBuilder.java:219)
	at marytts.tools.transcription.LTSLexiconPOSBuilder.main(LTSLexiconPOSBuilder.java:267)


A subset with 90000 random words from the lexicon + all "functional" words was used instead:

shuf -n 90000 nor_nst.txt > /tmp/tmp_lex ; grep functional nor_nst.txt >> /tmp/tmp_lex; cat /tmp/tmp_lex | sort -u > nor_nst_90k.txt
sh ~/git/marytts/hb/marytts-lts-lexicon_builder allophones.no.xml ./nor_nst_90k.txt

Use the resulting fst files: nor_nst_90k_lexicon.fst, nor_nst_90k_pos.fst


#################################################
Problem: The phoneme }: seems to cause error:

Caused by: marytts.exceptions.SynthesisException: Duration model could not be applied
	at marytts.modules.AcousticModeller.process(AcousticModeller.java:184)
	at marytts.server.Request.processOneChunk(Request.java:548)
	... 19 more
Caused by: marytts.exceptions.MaryConfigurationException: Error searching in tree when predicting duration. 
	at marytts.modules.acoustic.HMMModel.predictAndSetDuration(HMMModel.java:279)
	at marytts.modules.acoustic.HMMModel.applyTo(HMMModel.java:157)
	at marytts.modules.AcousticModeller.process(AcousticModeller.java:182)
	... 20 more
Caused by: java.lang.IndexOutOfBoundsException: Byte value out of range: 55
	at marytts.util.string.ByteStringTranslator.get(ByteStringTranslator.java:155)
	at marytts.features.FeatureDefinition.getFeatureValueAsString(FeatureDefinition.java:1007)
	at marytts.features.FeatureVector.getFeatureAsString(FeatureVector.java:177)
	at marytts.modules.acoustic.HMMModel.predictAndSetDuration(HMMModel.java:225)
